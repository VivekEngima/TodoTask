<!-- Task Create/Edit Modal -->
<div class="modal fade" id="taskModal" tabindex="-1" aria-labelledby="taskModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <form id="taskForm">
                <div class="modal-header">
                    <h5 class="modal-title" id="taskModalLabel">
                        <i class="fas fa-plus-circle me-2"></i>Add New Task
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <input type="hidden" id="taskId" name="Id" value="0" />

                    <div class="mb-3">
                        <label for="taskTitle" class="form-label">
                            <i class="fas fa-heading me-1"></i>Title <span class="text-danger">*</span>
                        </label>
                        <input type="text" class="form-control" id="taskTitle" name="Title"
                               placeholder="Enter task title..." maxlength="100" required>
                        <div class="form-text">Maximum 100 characters, no special characters allowed.</div>
                        <div class="invalid-feedback" id="titleError"></div>
                    </div>

                    <div class="mb-3">
                        <label for="taskDescription" class="form-label">
                            <i class="fas fa-align-left me-1"></i>Description
                        </label>
                        <textarea class="form-control" id="taskDescription" name="Description"
                                  rows="3" placeholder="Enter task description..." maxlength="500"></textarea>
                        <div class="form-text">Maximum 500 characters, no special characters allowed.</div>
                        <div class="invalid-feedback" id="descriptionError"></div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="taskPriority" class="form-label">
                                    <i class="fas fa-flag me-1"></i>Priority
                                </label>
                                <select class="form-select" id="taskPriority" name="Priority">
                                    <option value="High" class="text-danger">High</option>
                                    <option value="Normal" selected>Normal</option>
                                    <option value="Low" class="text-info">Low</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="taskStatus" class="form-label">
                                    <i class="fas fa-info-circle me-1"></i>Status
                                </label>
                                <select class="form-select" id="taskStatus" name="Status">
                                    <option value="Pending" selected>Pending</option>
                                    <option value="Hold">Hold</option>
                                    <option value="Completed">Completed</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="taskDueDate" class="form-label">
                            <i class="fas fa-calendar-alt me-1"></i>Due Date <span class="text-danger">*</span>
                        </label>
                        <input type="date" class="form-control" id="taskDueDate" name="DueDate" required>
                        <div class="form-text">Default is 7 days from today.</div>
                        <div class="invalid-feedback" id="dueDateError"></div>
                    </div>

                    <div class="alert alert-info d-none" id="taskAlert"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        <i class="fas fa-times me-1"></i>Cancel
                    </button>
                    <button type="submit" class="btn btn-primary" id="saveTaskBtn">
                        <i class="fas fa-save me-1"></i>Save Task
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>